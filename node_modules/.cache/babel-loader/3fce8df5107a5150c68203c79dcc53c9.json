{"ast":null,"code":"import { LOAD_TWISTER_SUCCESS, LOAD_TWISTER_ERROR, LOAD_TWISTER_TWISTS_SUCCESS, LOAD_TWISTER_TWISTS_ERROR } from \"./actionTypes\"; // GET TWISTER DATA AND TWISTS LIST ACTION CREATOR\n\nexport const getTwisterData = twisterUsername => async dispatch => {\n  try {\n    // 1. Get user data\n    fetch(\"http://localhost:8081/api/users/search-twister/\".concat(twisterUsername)).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n    }).then(twisterData => {\n      dispatch({\n        type: LOAD_TWISTER_SUCCESS,\n        payload: twisterData\n      }); // 2. If twister exist, get his twists list\n\n      if (twisterData) {\n        fetch(\"http://localhost:8081/api/twists/\".concat(twisterData.firebaseId)).then(res => {\n          if (res.ok) {\n            return res.json();\n          }\n        }).then(twisterTwistsList => {\n          dispatch({\n            type: LOAD_TWISTER_TWISTS_SUCCESS,\n            payload: twisterTwistsList\n          });\n        }).catch(err => {\n          dispatch({\n            type: LOAD_TWISTER_TWISTS_ERROR,\n            payload: \"Sorry, we could not load this twister twists.\"\n          });\n        });\n      } else {\n        // 3. else, if twister was not found, dispatch error message\n        dispatch({\n          type: LOAD_TWISTER_ERROR,\n          payload: \"Sorry, we could not load this twister info.\"\n        });\n      }\n    }).catch(err => {\n      dispatch({\n        type: LOAD_TWISTER_ERROR,\n        payload: \"Sorry, we could not load this twister info.\"\n      });\n    });\n  } catch (err) {\n    dispatch({\n      type: LOAD_TWISTER_ERROR,\n      payload: \"Sorry, we could not load this twister info.\"\n    });\n  }\n}; // // GET TWISTER TWIST LIST ACTION CREATOR\n// export const getTwisterTwistsList = twisterFbId => async dispatch => {\n//   try {\n//     // 1. Get user twists list\n//     fetch(`http://localhost:8081/api/twists/${twisterFbId}`)\n//       .then(res => {\n//         if (res.ok) {\n//           return res.json();\n//         }\n//       })\n//       .then(data => {\n//         console.log(\"data\");\n//         console.log(data);\n//         dispatch({\n//           type: LOAD_TWISTER_TWISTS_SUCCESS,\n//           payload: data\n//         });\n//       })\n//       .catch(err => {\n//         dispatch({\n//           type: LOAD_TWISTER_TWISTS_ERROR,\n//           payload: \"Sorry, we could not load this twister twists.\"\n//         });\n//       });\n//   } catch (err) {\n//     dispatch({\n//       type: LOAD_TWISTER_TWISTS_ERROR,\n//       payload: \"Sorry, we could not load this twister twists.\"\n//     });\n//   }\n// };","map":{"version":3,"sources":["/Users/victorarminjon/twister-frontend/src/redux/actions/twister.js"],"names":["LOAD_TWISTER_SUCCESS","LOAD_TWISTER_ERROR","LOAD_TWISTER_TWISTS_SUCCESS","LOAD_TWISTER_TWISTS_ERROR","getTwisterData","twisterUsername","dispatch","fetch","then","res","ok","json","twisterData","type","payload","firebaseId","twisterTwistsList","catch","err"],"mappings":"AAAA,SACEA,oBADF,EAEEC,kBAFF,EAGEC,2BAHF,EAIEC,yBAJF,QAKO,eALP,C,CAOA;;AACA,OAAO,MAAMC,cAAc,GAAGC,eAAe,IAAI,MAAMC,QAAN,IAAkB;AACjE,MAAI;AACF;AACAC,IAAAA,KAAK,0DAAmDF,eAAnD,EAAL,CACGG,IADH,CACQC,GAAG,IAAI;AACX,UAAIA,GAAG,CAACC,EAAR,EAAY;AACV,eAAOD,GAAG,CAACE,IAAJ,EAAP;AACD;AACF,KALH,EAMGH,IANH,CAMQI,WAAW,IAAI;AACnBN,MAAAA,QAAQ,CAAC;AACPO,QAAAA,IAAI,EAAEb,oBADC;AAEPc,QAAAA,OAAO,EAAEF;AAFF,OAAD,CAAR,CADmB,CAMnB;;AACA,UAAIA,WAAJ,EAAiB;AACfL,QAAAA,KAAK,4CAAqCK,WAAW,CAACG,UAAjD,EAAL,CACCP,IADD,CACMC,GAAG,IAAI;AACX,cAAIA,GAAG,CAACC,EAAR,EAAY;AACV,mBAAOD,GAAG,CAACE,IAAJ,EAAP;AACD;AACF,SALD,EAMCH,IAND,CAMMQ,iBAAiB,IAAI;AACzBV,UAAAA,QAAQ,CAAC;AACPO,YAAAA,IAAI,EAAEX,2BADC;AAEPY,YAAAA,OAAO,EAAEE;AAFF,WAAD,CAAR;AAID,SAXD,EAYCC,KAZD,CAYOC,GAAG,IAAI;AACZZ,UAAAA,QAAQ,CAAC;AACPO,YAAAA,IAAI,EAAEV,yBADC;AAEPW,YAAAA,OAAO,EAAE;AAFF,WAAD,CAAR;AAID,SAjBD;AAkBD,OAnBD,MAmBO;AACL;AACAR,QAAAA,QAAQ,CAAC;AACPO,UAAAA,IAAI,EAAEZ,kBADC;AAEPa,UAAAA,OAAO,EAAE;AAFF,SAAD,CAAR;AAID;AACF,KAvCH,EAwCGG,KAxCH,CAwCSC,GAAG,IAAI;AACZZ,MAAAA,QAAQ,CAAC;AACPO,QAAAA,IAAI,EAAEZ,kBADC;AAEPa,QAAAA,OAAO,EAAE;AAFF,OAAD,CAAR;AAID,KA7CH;AA8CD,GAhDD,CAgDE,OAAOI,GAAP,EAAY;AACZZ,IAAAA,QAAQ,CAAC;AACPO,MAAAA,IAAI,EAAEZ,kBADC;AAEPa,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID;AACF,CAvDM,C,CAyDP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import {\n  LOAD_TWISTER_SUCCESS,\n  LOAD_TWISTER_ERROR,\n  LOAD_TWISTER_TWISTS_SUCCESS,\n  LOAD_TWISTER_TWISTS_ERROR,\n} from \"./actionTypes\";\n\n// GET TWISTER DATA AND TWISTS LIST ACTION CREATOR\nexport const getTwisterData = twisterUsername => async dispatch => {\n  try {\n    // 1. Get user data\n    fetch(`http://localhost:8081/api/users/search-twister/${twisterUsername}`)\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n      })\n      .then(twisterData => {\n        dispatch({\n          type: LOAD_TWISTER_SUCCESS,\n          payload: twisterData\n        });\n\n        // 2. If twister exist, get his twists list\n        if (twisterData) {\n          fetch(`http://localhost:8081/api/twists/${twisterData.firebaseId}`)\n          .then(res => {\n            if (res.ok) {\n              return res.json();\n            }\n          })\n          .then(twisterTwistsList => {\n            dispatch({\n              type: LOAD_TWISTER_TWISTS_SUCCESS,\n              payload: twisterTwistsList\n            });\n          })\n          .catch(err => {\n            dispatch({\n              type: LOAD_TWISTER_TWISTS_ERROR,\n              payload: \"Sorry, we could not load this twister twists.\"\n            });\n          });\n        } else {\n          // 3. else, if twister was not found, dispatch error message\n          dispatch({\n            type: LOAD_TWISTER_ERROR,\n            payload: \"Sorry, we could not load this twister info.\"\n          });\n        }\n      })\n      .catch(err => {\n        dispatch({\n          type: LOAD_TWISTER_ERROR,\n          payload: \"Sorry, we could not load this twister info.\"\n        });\n      });\n  } catch (err) {\n    dispatch({\n      type: LOAD_TWISTER_ERROR,\n      payload: \"Sorry, we could not load this twister info.\"\n    });\n  }\n};\n\n// // GET TWISTER TWIST LIST ACTION CREATOR\n// export const getTwisterTwistsList = twisterFbId => async dispatch => {\n//   try {\n//     // 1. Get user twists list\n//     fetch(`http://localhost:8081/api/twists/${twisterFbId}`)\n//       .then(res => {\n//         if (res.ok) {\n//           return res.json();\n//         }\n//       })\n//       .then(data => {\n//         console.log(\"data\");\n//         console.log(data);\n//         dispatch({\n//           type: LOAD_TWISTER_TWISTS_SUCCESS,\n//           payload: data\n//         });\n//       })\n//       .catch(err => {\n//         dispatch({\n//           type: LOAD_TWISTER_TWISTS_ERROR,\n//           payload: \"Sorry, we could not load this twister twists.\"\n//         });\n//       });\n//   } catch (err) {\n//     dispatch({\n//       type: LOAD_TWISTER_TWISTS_ERROR,\n//       payload: \"Sorry, we could not load this twister twists.\"\n//     });\n//   }\n// };\n"]},"metadata":{},"sourceType":"module"}